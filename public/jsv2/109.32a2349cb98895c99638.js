(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{"u+i7":function(t,e,o){"use strict";o.r(e);var r={name:"xero-login",components:{my_receipts:function(){return o.e(7).then(o.bind(null,"ra+S"))}},data:function(){return{error:null}},created:function(){localStorage.setItem("xero-code",this.$route.query.code||null),this.$store.commit("XERO_CODE",this.$route.query.code)},methods:{login:function(){this.$store.dispatch("XERO_LOGIN").then((function(t){window.location.href=t.data}))},refresh_token:function(){var t=this;this.$store.dispatch("XERO_REF_TOKEN",{token:this.$store.state.Xero.xero_token}).then((function(e){t.$store.commit("SNACKBAR",{snackbar:!0,vertical:!1,timeout:2e3,color:"blue lighten-2",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:"You have refresh your token! Keep it up bro!"})})).catch((function(e){var o={snackbar:!0,vertical:!1,timeout:2e3,color:"red",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:e.response.data};t.$store.commit("SNACKBAR",o)}))},get_token:function(){var t=this;this.$store.dispatch("XERO_TOKEN",{xero_code:this.$store.state.Xero.xero_code,xero_state:this.$store.state.Xero.xero_state}).then((function(e){t.$store.commit("SNACKBAR",{snackbar:!0,vertical:!1,timeout:2e3,color:"blue lighten-2",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:"Yeah! I got the token!"})})).catch((function(e){var o={snackbar:!0,vertical:!1,timeout:2e3,color:"red",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:e.response.data};t.$store.commit("SNACKBAR",o)}))},load_invoices:function(){var t=this;this.$store.dispatch("XERO_INVOICE",{token:this.$store.state.Xero.xero_token,tenant_id:this.$store.state.Xero.xero_tenants}).then((function(e){t.$store.commit("SNACKBAR",{snackbar:!0,vertical:!1,timeout:2e3,color:"blue lighten-2",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:"Hey men!, look down all your invoices"})})).catch((function(e){var o={snackbar:!0,vertical:!1,timeout:2e3,color:"red",dark:!0,top:!0,bottom:!1,centered:!0,left:!1,right:!1,text:e.response.data};t.$store.commit("SNACKBAR",o)}))}}},n=o("KHd+"),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-card",[o("v-toolbar",{staticClass:"white--text",attrs:{color:"blue lighten-2",flat:""}},[o("v-toolbar-title",[t._v(" Xero ")])],1),t._v(" "),o("v-card-text",[o("v-btn",{staticClass:"success",on:{click:t.login}},[t._v("\n                login\n            ")]),t._v(" "),o("v-btn",{staticClass:"success",on:{click:t.get_token}},[t._v("\n                Get Token\n            ")]),t._v(" "),o("v-btn",{staticClass:"success",on:{click:t.refresh_token}},[t._v("\n                Refresh Token\n            ")]),t._v(" "),o("v-btn",{staticClass:"success",on:{click:t.load_invoices}},[t._v("\n                Load Invoices\n            ")])],1),t._v(" "),o("v-card-text",[o("my_receipts")],1)],1)],1)}),[],!1,null,null,null);e.default=s.exports}}]);