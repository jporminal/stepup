(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{UTdK:function(t,e,a){"use strict";a.r(e);var s={name:"reset-password",data:function(){return{passw:!1,is_exist:!1,valid:!1,email:null,verification:"",password:"",confirm_password:"",email_rules:function(t){return/.+@.+/.test(t)||"Email address must be valid"},alert:{color:"",text:null}}},methods:{change_password:function(){var t=this;this.$store.dispatch("CHANGE_PASSWORD",{email:this.email,password:this.password,verification:this.verification}).then((function(e){if(200==e.data.status){var a={color:"green lighten-2",text:e.data.response};t.alert=a}else{a={color:"red lighten-2",text:e.data.response};t.alert=a}}))},check_email:function(){var t=this;this.$store.dispatch("CHECK_EMAIL",{email:this.email}).then((function(e){if(e.data)t.send_token(e.data);else{t.alert={color:"red lighten-2",text:"Email address do not exist"},setTimeout((function(){t.alert={color:"",text:null}}),3e3)}}))},send_token:function(t){var e=this;this.$store.dispatch("SEND_TOKEN",{email:t.email}).then((function(a){e.email_token(t,a.data),e.is_exist=!0,e.alert={color:"green lighten-2",text:"We sent a verification ID to your email!"},setTimeout((function(){e.alert={color:"",text:null}}),3e3)}))},email_token:function(t,e){Email.send({SecureToken:"29491cb9-4953-44f4-ac2e-8292c80452c8",To:t.email,From:"info@stepup.ae",Bcc:"vincent@stepup.ae",Subject:"Reset Password",Body:'<div style="margin: 0; padding: 0;">\n            <table align="center" border="1" cellpadding="0" cellspacing="0" width="600">\n                <tr>\n                    <td align="center" bgcolor="#fff" style="padding: 20px 0 0 0;">\n                        <img src="https://stepup.ae/img/logoStepUp.png" alt="StepUp Academy" width="130" height="100" style="display: block;" />\n                        <h1 style="color:#000">\n                            StepUp Academy\n                        </h1>\n                        <h3>\n                            Reset Password\n                        </h3>\n                    </td>\n                </tr>\n                <tr>\n                    <td bgcolor="#fff" style="padding: 40px 30px 40px 30px;">\n                        <div align="left">\n                        Dear <strong> '.concat(t.first_name," ").concat(t.last_name,",</strong>\n                        <br /><br />\n                        Your password reset verification is ").concat(e,'\n                        </div>\n                    </td>\n                </tr>\n                <tr>\n                    <td bgcolor="#49a0d9 " style="padding: 30px 30px 30px 30px;">\n                        <table border="0" cellpadding="0" cellspacing="0" width="100%">\n                            <tr>\n                                <td width="75%" style="color: #fff; font-family: Arial, sans-serif; font-size: 14px;">&copy; StepUp Academy<br/> <a href="mailto:info@stepup.ae" style="color: #fff; text-decoration: none;"><font color="#000">info@stepup.ae</font></a></td>\n                                <td align="right">\n                                    <table border="0" cellpadding="0" cellspacing="0">\n                                        <tr>\n                                            <td><a href="https://www.instagram.com/step_up_academy/" target="_blank">\n                                                <img src="https://enrollment.stepup.ae/img/instagram.png" alt="Instagram" width="38" height="38" style="display: block;" border="0" /></a></td><td><a href="https://www.facebook.com/StepUp-Academy-208684865876848/" target="_blank"><img src="https://enrollment.stepup.ae/img/facebook.png" alt="Facebook" width="38" height="38" style="display: block;" border="0" /></a>\n                                            </td>\n                                        </tr>\n                                    </table>\n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </div>')})}},metaInfo:function(){return{title:"StepUp Academy",titleTemplate:"%s - Reset Password",htmlAttrs:{lang:"en"}}}},n=a("KHd+"),i=Object(n.a)(s,(function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("v-card",{attrs:{flat:""}},[s("v-card-text",[s("p",{staticClass:"text-center text-h6"},[e._v("Reset Password")])]),e._v(" "),s("v-card-text",[s("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.text,expression:"alert.text"}],attrs:{border:"top",color:e.alert.color,dark:""}},[e._v("\n            "+e._s(e.alert.text)+"\n          ")])],1),e._v(" "),s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Email Address",rules:[e.email_rules],clearable:"",disabled:!!e.is_exist},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),e.is_exist?s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Verification code",rules:[function(t){return!!t||"verification code is required"},function(t){return t.length>5&&t.length<7||"verification code is not valid"}]},model:{value:e.verification,callback:function(t){e.verification=t},expression:"verification"}})],1):e._e(),e._v(" "),e.is_exist?s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Password",rules:[function(t){return!!t||"Password is required"}],"append-icon":e.passw?"mdi-eye":"mdi-eye-off",type:e.passw?"text":"password"},on:{"click:append":function(t){e.passw=!e.passw}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e(),e._v(" "),e.is_exist?s("v-col",{attrs:{cols:"12",md:"5"}},[s("v-text-field",{attrs:{label:"Confirm Password",rules:[function(t){return!!t||"Confirm password is required"},function(e){return e==t.password||"Password and confirm password do not match"}],"append-icon":e.passw?"mdi-eye":"mdi-eye-off",type:e.passw?"text":"password"},on:{"click:append":function(t){e.passw=!e.passw}},model:{value:e.confirm_password,callback:function(t){e.confirm_password=t},expression:"confirm_password"}})],1):e._e(),e._v(" "),s("v-col",{attrs:{cols:"12",md:"10"}},[s("div",{staticClass:"text-right"},[e.is_exist?e._e():s("v-btn",{staticClass:"text-none primary",attrs:{disabled:!e.valid},on:{click:e.check_email}},[e._v("Reset Password")]),e._v(" "),e.is_exist?s("v-btn",{staticClass:"text-none primary",attrs:{disabled:!e.valid},on:{click:e.change_password}},[e._v("Submit")]):e._e()],1)])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=i.exports}}]);