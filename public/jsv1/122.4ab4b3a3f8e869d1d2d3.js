(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{WeHC:function(t,s,e){"use strict";e.r(s);var o={name:"checkout-button",data:function(){return{loading:!1}},components:{my_terms:function(){return e.e(126).then(e.bind(null,"G24V"))}},methods:{terms_condition:function(){this.$store.commit("CHECKOUT_TERMS_OPEN",!0)},go_to_telr:function(){var t=this;this.loading=!0;var s={subtotal:this.subtotal,discount:this.discount,tax:this.tax,total:this.total};this.$store.dispatch("CHECKOUT",{customer:this.$store.state.Carts.billing,products:this.$store.state.Carts.carts,total:s}).then((function(s){localStorage.setItem("traesdhes",JSON.stringify(t.$store.state.Carts.carts)),localStorage.setItem("is_credit",t.$store.state.Carts.parent.credit),localStorage.setItem("last_id",s.data.last_id),localStorage.setItem("billing",JSON.stringify(t.$store.state.Carts.billing)),window.location.href=s.data.telr,t.loading=!1})).catch((function(t){}))}},computed:{subtotal:function(){return this.$store.state.Carts.carts.reduce((function(t,s){return t+s.product_option.total_excl}),0)},tax:function(){return this.$store.state.Carts.carts.reduce((function(t,s){return t+s.product_option.vat}),0)},discount:function(){return this.$store.state.Carts.carts.reduce((function(t,s){return t+s.product_option.discount}),0)},total:function(){return this.$store.state.Carts.carts.reduce((function(t,s){return t+s.product_option.total_incl}),0)}}},a=e("KHd+"),r=Object(a.a)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-card",{staticClass:"mt-2"},[e("my_terms"),t._v(" "),e("v-card-text",[e("v-checkbox",{staticClass:"my-0",scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        I've read and accept the\n        "),e("v-btn",{staticClass:"text-none font-weight-bold",attrs:{text:""},on:{click:t.terms_condition}},[t._v("\n          Terms & Conditions\n        ")])]},proxy:!0}]),model:{value:t.$store.state.Carts.sua_term,callback:function(s){t.$set(t.$store.state.Carts,"sua_term",s)},expression:"$store.state.Carts.sua_term"}})],1),t._v(" "),e("v-card-actions",[e("v-btn",{staticClass:"success text-none",attrs:{block:"",disabled:!t.$store.state.Carts.valid||!t.$store.state.Carts.valid_details||0==t.$store.state.Carts.carts.length||!t.$store.state.Carts.sua_term,loading:t.loading},on:{click:t.go_to_telr}},[t._v("\n      Proceed to checkout\n    ")])],1)],1)}),[],!1,null,null,null);s.default=r.exports}}]);